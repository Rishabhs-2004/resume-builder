<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Resume Builder | Professional CV Maker</title>
  <!-- Final Build Update -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Outfit:wght@500;700;800&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="style.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
</head>

<body data-theme="light">
  <div class="app-container">
    <!-- Form Section -->
    <div class="form-section">
      <div class="form-header">
        <div style="flex: 1;">
          <h1>Resume Builder</h1>
          <div style="display: flex; align-items: center; gap: 10px; margin-top: 5px;">
            <div style="flex: 1; height: 6px; background: var(--border-color); border-radius: 3px; overflow: hidden;">
              <div id="strengthBar"
                style="width: 0%; height: 100%; background: var(--primary-color); transition: width 0.3s ease;"></div>
            </div>
            <span id="strengthText"
              style="font-size: 0.7rem; font-weight: 700; color: var(--primary-color); white-space: nowrap;">0%
              Strength</span>
          </div>
        </div>
        <div style="display: flex; gap: 10px; align-items: center;">
          <input type="color" id="themeColor" value="#4f46e5" oninput="changeThemeColor(this.value)"
            title="Choose Theme Color"
            style="width: 30px; height: 30px; border: none; border-radius: 50%; cursor: pointer;">
          <button class="theme-toggle" onclick="toggleTheme()" title="Toggle Dark Mode">
            <i class="fas fa-moon"></i>
          </button>
        </div>
      </div>

      <div class="section-card">
        <h3 class="section-title"><i class="fas fa-palette"></i> Choose Layout</h3>
        <div class="btn-group">
          <button class="btn btn-outline" style="flex:1" onclick="changeTemplate('classic')">Classic Sidebar</button>
          <button class="btn btn-outline" style="flex:1" onclick="changeTemplate('modern')">Modern Top-Header</button>
        </div>
      </div>

      <div class="section-card">
        <h3 class="section-title"><i class="fas fa-user-circle"></i> Personal Information</h3>
        <div class="grid-2">
          <div class="form-group">
            <label>Full Name</label>
            <input type="text" id="nameIn" placeholder="John Doe" oninput="updatePreview()">
          </div>
          <div class="form-group">
            <label>Professional Title</label>
            <input type="text" id="titleIn" placeholder="Full Stack Developer" oninput="updatePreview()">
          </div>
        </div>
        <div class="grid-2">
          <div class="form-group">
            <label>Email Address</label>
            <input type="email" id="emailIn" placeholder="john@example.com" oninput="updatePreview()">
          </div>
          <div class="form-group">
            <label>Phone Number</label>
            <input type="text" id="conIn" placeholder="+1 234 567 890" oninput="updatePreview()">
          </div>
        </div>
        <div class="form-group">
          <label>Address</label>
          <input type="text" id="addIn" placeholder="New York, USA" oninput="updatePreview()">
        </div>
        <div class="grid-2">
          <div class="form-group">
            <label>LinkedIn</label>
            <input type="text" id="linIn" placeholder="linkedin.com/in/username" oninput="updatePreview()">
          </div>
          <div class="form-group">
            <label>Portfolio / Website</label>
            <input type="text" id="siteIn" placeholder="github.com/username" oninput="updatePreview()">
          </div>
        </div>
        <div class="form-group">
          <label>Profile Picture</label>
          <input type="file" id="file" accept="image/*" class="form-control">
        </div>
      </div>

      <div class="section-card">
        <h3 class="section-title">
          <i class="fas fa-magic"></i> Professional Summary
          <button class="btn btn-outline" style="padding: 2px 8px; font-size: 0.7rem; margin-left: auto;"
            onclick="aiSuggestSummary()">
            <i class="fas fa-sparkles"></i> AI Suggest
          </button>
        </h3>
        <div class="form-group">
          <textarea id="objectiveIn" rows="4" placeholder="Briefly describe your professional background and goals..."
            oninput="updatePreview()"></textarea>
        </div>
      </div>

      <div class="section-card" id="projectSection">
        <h3 class="section-title"><i class="fas fa-code"></i> Projects</h3>
        <div id="projectContainer">
          <div class="project-entry mb-3">
            <input type="text" class="projectTitle mb-2" placeholder="Project Name" oninput="updatePreview()">
            <input type="text" class="projectLink mb-2" placeholder="Project Link (Optional)" oninput="updatePreview()">
            <textarea class="projectDesc" rows="2" placeholder="What did you build?"
              oninput="updatePreview()"></textarea>
          </div>
        </div>
        <button class="btn btn-outline add-btn" onclick="addProject()">
          <i class="fas fa-plus"></i> Add Project
        </button>
      </div>

      <div class="section-card" id="weSection">
        <h3 class="section-title"><i class="fas fa-briefcase"></i> Work Experience</h3>
        <div class="we-items" id="weContainer">
          <div class="experience-entry mb-3">
            <div class="grid-2">
              <input type="text" class="weTitle mb-2" placeholder="Job Title" oninput="updatePreview()">
              <input type="text" class="weCompany mb-2" placeholder="Company" oninput="updatePreview()">
            </div>
            <input type="text" class="weDate mb-2" placeholder="Duration (e.g. 2020 - Present)"
              oninput="updatePreview()">
            <textarea class="weDesc" rows="2" placeholder="Responsibilities and achievements..."
              oninput="updatePreview()"></textarea>
          </div>
        </div>
        <button class="btn btn-outline add-btn" onclick="addExperience()">
          <i class="fas fa-plus"></i> Add Experience
        </button>
      </div>

      <div class="section-card">
        <h3 class="section-title"><i class="fas fa-graduation-cap"></i> Education</h3>
        <div id="eduContainer">
          <div class="education-entry mb-3">
            <div class="grid-2">
              <input type="text" class="eduDegree mb-2" placeholder="Degree / Course" oninput="updatePreview()">
              <input type="text" class="eduSchool mb-2" placeholder="University / School" oninput="updatePreview()">
            </div>
            <input type="text" class="eduDate mb-2" placeholder="Year (e.g. 2016 - 2020)" oninput="updatePreview()">
          </div>
        </div>
        <button class="btn btn-outline add-btn" onclick="addEducation()">
          <i class="fas fa-plus"></i> Add Education
        </button>
      </div>

      <div class="section-card">
        <h3 class="section-title"><i class="fas fa-language"></i> Languages</h3>
        <div id="langContainer">
          <div class="lang-entry mb-2">
            <input type="text" class="langName" placeholder="Language (e.g. Hindi)" oninput="updatePreview()">
            <select class="langLevel" oninput="updatePreview()"
              style="width: 120px; padding: 0.5rem; border-radius: 8px; border: 1.5px solid var(--border-color); background: transparent; color: var(--text-main);">
              <option value="Native">Native</option>
              <option value="Fluent">Fluent</option>
              <option value="Intermediate">Intermediate</option>
              <option value="Basic">Basic</option>
            </select>
          </div>
        </div>
        <button class="btn btn-outline add-btn" style="padding: 5px; font-size: 0.8rem;" onclick="addLanguage()">
          <i class="fas fa-plus"></i> Add Language
        </button>
      </div>

      <div class="section-card">
        <h3 class="section-title"><i class="fas fa-magic"></i> AI ATS Assistant</h3>
        <p style="font-size: 0.8rem; color: var(--text-muted); margin-bottom: 0.5rem;">Recommended keywords for your
          role:</p>
        <div id="atsKeywords" class="ats-box">
          Enter a job title to see suggestions...
        </div>
      </div>

      <div class="section-card">
        <h3 class="section-title"><i class="fas fa-font"></i> Typography & Branding</h3>
        <div class="grid-2">
          <select class="form-control" onchange="changeFont(this.value)">
            <option value="font-modern">Modern (Inter)</option>
            <option value="font-classic">Classic (Serif)</option>
            <option value="font-elegant">Elegant (Outfit)</option>
          </select>
          <input type="text" id="qrIn" placeholder="URL for QR Code (e.g. Portfolio)" oninput="updatePreview()">
        </div>
      </div>

      <div class="section-card">
        <h3 class="section-title"><i class="fas fa-tools"></i> Skills Proficiency</h3>
        <div id="rankedSkillsContainer">
          <div class="skill-entry mb-2">
            <input type="text" class="skillName" placeholder="Skill" oninput="updatePreview()" style="flex:2">
            <input type="range" class="skillLevel" min="20" max="100" value="80" oninput="updatePreview()"
              style="flex:1">
          </div>
        </div>
        <button class="btn btn-outline add-btn" onclick="addRankedSkill()">
          <i class="fas fa-plus"></i> Add Skilled Item
        </button>
      </div>

      <div class="section-card">
        <h3 class="section-title"><i class="fas fa-certificate"></i> Achievements & Awards</h3>
        <div id="awardContainer">
          <div class="award-entry mb-2">
            <input type="text" class="awardTitle" placeholder="Achievement Name" oninput="updatePreview()">
          </div>
        </div>
        <button class="btn btn-outline add-btn" onclick="addAward()">
          <i class="fas fa-plus"></i> Add Achievement
        </button>
      </div>
    </div>

    <!-- Preview Section -->
    <div class="preview-section">
      <div id="captureArea">
        <div class="resume-paper" id="resumePaper">
          <div class="resume-container">
            <div class="sidebar">
              <div class="profile-img-container" id="profileImgContainer">
                <img src="" alt="Profile" id="profileOut" style="display: none;">
                <i class="fas fa-user-circle" id="userPlaceholder"
                  style="font-size: 5rem; color: rgba(255,255,255,0.2);"></i>
              </div>

              <div class="sidebar-section">
                <h4 class="sidebar-title">Contact</h4>
                <div class="sidebar-content">
                  <p id="phoneOut"></p>
                  <p id="emailOut"></p>
                  <p id="addressOut"></p>
                </div>
              </div>

              <div class="sidebar-section">
                <h4 class="sidebar-title">Links</h4>
                <div class="sidebar-content">
                  <p id="linOut"></p>
                  <p id="siteOut"></p>
                </div>
              </div>

              <div class="sidebar-section">
                <h4 class="sidebar-title">Languages</h4>
                <div class="sidebar-content" id="langOut">
                </div>
              </div>

              <div class="sidebar-section">
                <h4 class="sidebar-title">Skills</h4>
                <div class="sidebar-content" id="skillsOut">
                </div>
              </div>

              <div id="qrCodeContainer">
                <img src="" id="qrImage" style="width: 100%; display: none;">
              </div>
            </div>

            <div class="main-content">
              <div class="resume-header">
                <h1 id="nameOut">Your Name</h1>
                <p id="titleOut">Professional Title</p>
              </div>

              <div class="resume-section">
                <h4 class="resume-section-title"><i class="fas fa-certificate"></i> Achievements</h4>
                <div id="awardOut" class="item-desc"></div>
              </div>

              <div class="resume-section">
                <h4 class="resume-section-title"><i class="fas fa-user"></i> Profile</h4>
                <p id="objectiveOut" class="item-desc"></p>
              </div>

              <div class="resume-section">
                <h4 class="resume-section-title"><i class="fas fa-code"></i> Projects</h4>
                <div id="projectOut"></div>
              </div>

              <div class="resume-section">
                <h4 class="resume-section-title"><i class="fas fa-briefcase"></i> Experience</h4>
                <div id="weOut"></div>
              </div>

              <div class="resume-section">
                <h4 class="resume-section-title"><i class="fas fa-graduation-cap"></i> Education</h4>
                <div id="eduOut"></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="preview-controls">
        <button class="btn btn-outline" onclick="resetForm()">
          <i class="fas fa-undo"></i> Reset
        </button>
        <button class="btn btn-outline" onclick="printResume()" title="Best for Mobile">
          <i class="fas fa-print"></i> Print / Save as PDF
        </button>
        <button class="btn btn-primary" onclick="downloadPDF()">
          <i class="fas fa-file-pdf"></i> Download PDF
        </button>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>

</html>